{"version":3,"sources":["../src/libs/misc.ts"],"names":[],"mappings":";;AAAA,IAAI,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAE/B,kBAAe;IACX,WAAW,EAAE,UAAU,GAAG;QACtB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;QACpC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC;YACjB,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC1C,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACnB,CAAC;QACL,CAAC;QACD,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;IACD,SAAS,EAAE,CAAC,GAAG,EAAE,EAAE;QACf,IAAI,cAAc,GAAG;YACjB,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GA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","file":"misc.js","sourcesContent":["var crypto = require('crypto');\r\n\r\nexport default {\r\n    uniqueArray: function (arr) {\r\n        var hash = {};\r\n        var result = [];\r\n        arr.forEach(item => hash[item] = 1);\r\n        for (let i in hash) {\r\n            if (hash.hasOwnProperty(i) && hash[i] === 1) {\r\n                result.push(i);\r\n            }\r\n        }\r\n        return result;\r\n    },\r\n    normalize: (str) => {\r\n        let VIETNAMESE_MAP = {\r\n            'á': 'a',\r\n            'à': 'a',\r\n            'ả': 'a',\r\n            'ã': 'a',\r\n            'ạ': 'a',\r\n            'ă': 'a',\r\n            'ắ': 'a',\r\n            'ằ': 'a',\r\n            'ẵ': 'a',\r\n            'ặ': 'a',\r\n            'ẳ': 'a',\r\n            'â': 'a',\r\n            'ấ': 'a',\r\n            'ầ': 'a',\r\n            'ẫ': 'a',\r\n            'ẩ': 'a',\r\n            'ậ': 'a',\r\n            'đ': 'd',\r\n            'é': 'e',\r\n            'è': 'e',\r\n            'ẻ': 'e',\r\n            'ẽ': 'e',\r\n            'ẹ': 'e',\r\n            'ê': 'e',\r\n            'ế': 'e',\r\n            'ề': 'e',\r\n            'ể': 'e',\r\n            'ễ': 'e',\r\n            'ệ': 'e',\r\n            'í': 'i',\r\n            'ì': 'i',\r\n            'ỉ': 'i',\r\n            'ĩ': 'i',\r\n            'ị': 'i',\r\n            'ỏ': 'o',\r\n            'ó': 'o',\r\n            'õ': 'o',\r\n            'ọ': 'o',\r\n            'ò': 'o',\r\n            'ô': 'o',\r\n            'ố': 'o',\r\n            'ồ': 'o',\r\n            'ổ': 'o',\r\n            'ỗ': 'o',\r\n            'ộ': 'o',\r\n            'ơ': 'o',\r\n            'ớ': 'o',\r\n            'ờ': 'o',\r\n            'ở': 'o',\r\n            'ỡ': 'o',\r\n            'ợ': 'o',\r\n            'ù': 'u',\r\n            'ú': 'u',\r\n            'ủ': 'u',\r\n            'ũ': 'u',\r\n            'ụ': 'u',\r\n            'ư': 'u',\r\n            'ứ': 'u',\r\n            'ừ': 'u',\r\n            'ữ': 'u',\r\n            'ử': 'u',\r\n            'ự': 'u',\r\n            'ỳ': 'y',\r\n            'ý': 'y',\r\n            'ỷ': 'y',\r\n            'ỹ': 'y',\r\n            'ỵ': 'y',\r\n            'Á': 'A',\r\n            'À': 'A',\r\n            'Ả': 'A',\r\n            'Ã': 'A',\r\n            'Ạ': 'A',\r\n            'Ă': 'A',\r\n            'Ắ': 'A',\r\n            'Ằ': 'A',\r\n            'Ẵ': 'A',\r\n            'Ặ': 'A',\r\n            'Ẳ': 'A',\r\n            'Â': 'A',\r\n            'Ấ': 'A',\r\n            'Ầ': 'A',\r\n            'Ẫ': 'A',\r\n            'Ẩ': 'A',\r\n            'Ậ': 'A',\r\n            'Đ': 'D',\r\n            'É': 'E',\r\n            'È': 'E',\r\n            'Ẻ': 'E',\r\n            'Ẽ': 'E',\r\n            'Ẹ': 'E',\r\n            'Ê': 'E',\r\n            'Ế': 'E',\r\n            'Ề': 'E',\r\n            'Ể': 'E',\r\n            'Ễ': 'E',\r\n            'Ệ': 'E',\r\n            'Í': 'I',\r\n            'Ì': 'I',\r\n            'Ỉ': 'I',\r\n            'Ĩ': 'I',\r\n            'Ị': 'I',\r\n            'Ô': 'O',\r\n            'Ố': 'O',\r\n            'Ồ': 'O',\r\n            'Ổ': 'O',\r\n            'Ỗ': 'O',\r\n            'Ộ': 'O',\r\n            'Ơ': 'O',\r\n            'Ớ': 'O',\r\n            'Ờ': 'O',\r\n            'Ở': 'O',\r\n            'Ỡ': 'O',\r\n            'Ợ': 'O',\r\n            'Ù': 'U',\r\n            'Ú': 'U',\r\n            'Ủ': 'U',\r\n            'Ũ': 'U',\r\n            'Ụ': 'U',\r\n            'Ư': 'U',\r\n            'Ứ': 'U',\r\n            'Ừ': 'U',\r\n            'Ữ': 'U',\r\n            'Ử': 'U',\r\n            'Ự': 'U',\r\n            'Ỳ': 'Y',\r\n            'Ý': 'Y',\r\n            'Ỷ': 'Y',\r\n            'Ỹ': 'Y',\r\n            'Ỵ': 'Y'\r\n        };\r\n        return str.replace(/[^A-Za-z0-9\\[\\] ]/g, function (x) {\r\n            return VIETNAMESE_MAP[x] || x;\r\n        });\r\n    },\r\n\r\n    CookieParse: function (str) {\r\n        var cookies = decodeURIComponent(str).split(';');\r\n        console.log('cookies:', cookies);\r\n        cookies = cookies.map(function (x) {\r\n            return x.trim();\r\n        });\r\n        console.log('cookies:', cookies);\r\n        var result = {};\r\n        for (let cookie of cookies) {\r\n            let parts = cookie.split('=');\r\n            let index = parts[0];\r\n            let val = parts.splice(1).join('=');\r\n            let json = false;\r\n            try {\r\n                json = JSON.parse(val);\r\n            } catch (e) {\r\n\r\n            }\r\n            if (json && typeof json === \"object\") {\r\n                //noinspection TypeScriptValidateTypes\r\n                val = json;\r\n            }\r\n            result[index] = val;\r\n        }\r\n        return result;\r\n    },\r\n    removeBase64Prefix: function (str) {\r\n        var prefix = 'base64,';\r\n        var pos = str.indexOf(prefix);\r\n        if (pos == -1) return str;\r\n\r\n        return str.substr(pos + prefix.length);\r\n    },\r\n    sha1(str) {\r\n        return crypto.createHash('sha1').update(str).digest('hex');\r\n    },\r\n    sha256(str) {\r\n        return crypto.createHash('sha256').update(str).digest('hex');\r\n    },\r\n    generateCode(n?: number, numberOnly = false) {\r\n        n = n || 5;\r\n        var text = \"\";\r\n        var charset = \"\";\r\n        var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n        var numOnly = \"0123456789\";\r\n\r\n        if(numberOnly) {\r\n            charset = numOnly;\r\n        }else{\r\n            charset = possible;\r\n        }\r\n\r\n        for (var i = 0; i < n; i++)\r\n            text += charset.charAt(Math.floor(Math.random() * charset.length));\r\n\r\n        return text;\r\n    },\r\n    snake(str) {\r\n        return str.replaceAll(\" \", \"_\")\r\n    },\r\n    encodeBase64(str) {\r\n        return new Buffer(str).toString('base64');\r\n    },\r\n    combinations(str, separator?: string) {\r\n        var fn = function (active, rest, a) {\r\n            if (!active && rest.length == 0)\r\n                return;\r\n            if (rest.length == 0) {\r\n                a.push(active.trim());\r\n            } else {\r\n                fn(active + (separator ? separator : \"\") + rest[0], rest.slice(1), a);\r\n                fn(active, rest.slice(1), a);\r\n            }\r\n            return a;\r\n        };\r\n        return fn(\"\", str, []);\r\n    },\r\n    getWeekNumber(d) {\r\n        if (typeof d == \"string\") {\r\n            d = new Date(d);\r\n        }\r\n        if (!(d instanceof Date)) {\r\n            throw new Error(\"Not valid input\");\r\n        }\r\n        d.setHours(0, 0, 0, 0);\r\n        d.setDate(d.getDate() + 4 - (d.getDay()));\r\n\r\n        var yearStart = new Date(d.getFullYear(), 0, 1);\r\n        var weekNo = Math.ceil(( ( (d.getTime() - yearStart.getTime()) / 86400000) + 1) / 7);\r\n        return weekNo;\r\n    },\r\n    capitalize(str) {\r\n        return str && str.split(\" \").map(s => s.charAt(0).toUpperCase() + s.slice(1)).join(\" \") || str;\r\n    }\r\n}\r\n"]}