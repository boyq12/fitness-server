{"version":3,"sources":["../src/server.ts"],"names":[],"mappings":";;AAAA,OAAO,CAAC,iBAAiB,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;AAC9C,OAAO,CAAC,oBAAoB,CAAC,CAAC,OAAO,EAAE,CAAC;AACxC,wCAA4C;AAC5C,+BAAwB;AACxB,wCAAwC;AACxC,qCAAkC;AAClC,IAAI,MAAM,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC;AAClC,IAAI,WAAW,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AAC7C,OAAO,CAAC,cAAc,CAAC,CAAC;AAGxB,IAAI,MAAM,GAAG,IAAI,eAAM,CAAC;IACtB,WAAW,EAAE,KAAK;CACnB,CAAC,CAAC;AAEH,IAAI,GAAG,GAAG,IAAI,aAAG,CAAC;IAChB,SAAS,EAAE,gBAAgB;IAC3B,KAAK,EAAE,QAAQ;IACf,IAAI,EAAE,MAAM,CAAC,MAAM,CAAC,IAAI;IACxB,UAAU,EAAE,CAAC;YACX,KAAK,EAAE,SAAS;YAChB,IAAI,EAAE,uBAAuB;SAC9B,EAAE;YACD,KAAK,EAAE,GAAG;YACV,IAAI,EAAE,QAAQ;SACf,CAAC;CACH,CAAC,CAAC;AAEH,qBAAqB;AACrB,IAAI,EAAE,GAAG,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AAC5B,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC;AAEzC,mBAAS,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;IACzB,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC;AAC1B,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;IACX,OAAO,CAAC,KAAK,CAAC,4BAA4B,CAAC,CAAC;AAC9C,CAAC,CAAC,CAAC","file":"server.js","sourcesContent":["require('app-module-path').addPath(__dirname);\r\nrequire('source-map-support').install();\r\nimport {Logger, LogType} from \"libs/logger\";\r\nimport App from \"./App\";\r\nimport * as config from \"./libs/config\";\r\nimport {sequelize} from \"schemas\";\r\nvar Socket = require('socket.io');\r\nvar socketRoute = require('./sockets/route');\r\nrequire(\"events/index\");\r\n\r\ndeclare var global: any;\r\nvar logger = new Logger({\r\n  graylogPort: 12201\r\n});\r\n\r\nvar app = new App({\r\n  routePath: './routes/index',\r\n  debug: 'coupon',\r\n  port: config.server.port,\r\n  publicDirs: [{\r\n    route: '/assets',\r\n    path: '../client/dist/assets'\r\n  }, {\r\n    route: '/',\r\n    path: 'public'\r\n  }]\r\n});\r\n\r\n// Socket.IO \"Routes\"\r\nvar io = Socket(app.server);\r\nio.of('/').on('connection', socketRoute);\r\n\r\nsequelize.sync().then(() => {\r\n  global.__dbReady = true;\r\n}).catch(e => {\r\n  console.error(\"Cannot connect to database\");\r\n});\r\n"]}